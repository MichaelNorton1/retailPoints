{"version":3,"sources":["state-functions/checkMonths/checkMonths.js","state-functions/formatData/formatData.js","data/customers.js","state-functions/pointCalculator/pointCalculator.js","state-functions/addTransaction/addTransactions.js","components/modal/Modal.jsx","components/rows/Rows.jsx","components/table/Table.jsx","state-functions/getCustomers/getCustomers.js","App.jsx","reportWebVitals.js","index.js"],"names":["checkMonths","tableData","threeMonthsAgo","moment","subtract","transactions","filter","transaction","Date","date","_d","formatData","finalUsers","finalArr","each","push","name","id","data","amountSpent","pointCalculator","trans","points","Math","floor","addTransactions","threeMonths","forEach","undefined","Modal","transactionHistory","style","setStyle","createPortal","className","map","key","onClick","document","getElementById","Rows","customers","useState","setTransactionHistory","customer","length","openModal","Table","getCustomers","Promise","res","rej","App","setCustomers","useEffect","then","textAlign","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3c7f745c.chunk.js","sourcesContent":["import moment from \"moment\";\nconst checkMonths = (tableData) => {\n  const threeMonthsAgo = moment().subtract(3, \"months\");\n  const threeMonthsRange = tableData.transactions.filter((transaction) => {\n    const transactionDate = new Date(transaction.date);\n\n    return transactionDate > threeMonthsAgo._d;\n  });\n  return threeMonthsRange;\n};\n\nexport default checkMonths;\n","const formatData = (finalUsers) => {\n  let finalArr = [];\n  for (let each in finalUsers) {\n    finalArr.push({\n      name: finalUsers[each].name,\n      id: each,\n      data: finalUsers[each],\n    });\n  }\n\n  return finalArr;\n};\n\nexport default formatData;\n","const tableData = {\n  transactions: [\n    { name: \"John\", id: 1, date: \"2021-11-21\", amountSpent: 120 },\n    { name: \"John\", id: 1, date: \"2021-8-21\", amountSpent: 42 },\n    { name: \"John\", id: 1, date: \"2021-10-21\", amountSpent: 190 },\n    { name: \"Mark\", id: 2, date: \"2020-10-12\", amountSpent: 100 },\n    { name: \"Mark\", id: 2, date: \"2021-9-21\", amountSpent: 100 },\n    { name: \"Mark\", id: 2, date: \"2021-11-4\", amountSpent: 111 },\n    { name: \"Macy\", id: 3, date: \"2021-11-8\", amountSpent: 75 },\n    { name: \"Macy\", id: 3, date: \"2021-11-10\", amountSpent: 32 },\n    { name: \"Macy\", id: 3, date: \"2021-03-21\", amountSpent: 175 },\n    { name: \"Macy\", id: 3, date: \"2021-11-11\", amountSpent: 12 },\n    { name: \"Macy\", id: 3, date: \"2021-11-04\", amountSpent: 64 },\n    { name: \"Eric\", id: 4, date: \"2021-12-01\", amountSpent: 56 },\n    { name: \"Eric\", id: 4, date: \"2021-12-2\", amountSpent: 48 },\n    { name: \"Eric\", id: 4, date: \"2021-8-21\", amountSpent: 120 },\n    { name: \"Dave\", id: 5, date: \"2021-9-21\", amountSpent: 125.33 },\n    { name: \"Dave\", id: 5, date: \"2021-9-31\", amountSpent: 48 },\n    { name: \"Dave\", id: 5, date: \"2021-11-20\", amountSpent: 63 },\n    { name: \"Dave\", id: 5, date: \"2021-11-26\", amountSpent: 72 },\n    { name: \"Ben\", id: 6, date: \"2021-10-31\", amountSpent: 24 },\n    { name: \"Ben\", id: 6, date: \"2021-09-17\", amountSpent: 72 },\n    { name: \"Ben\", id: 6, date: \"2021-11-21\", amountSpent: 15 },\n    { name: \"Sam\", id: 7, date: \"2021-09-10\", amountSpent: 120 },\n  ],\n};\n\nexport default tableData;\n","const pointCalculator = (trans) => {\n  let points = 0;\n  if (trans > 50 && trans < 100) {\n    points += trans - 50;\n  } else if (trans > 100) {\n    points = (trans - 100) * 2 + 50;\n  } else {\n    return 0;\n  }\n\n  return Math.floor(points);\n};\nexport default pointCalculator;\n","import pointCalculator from \"../pointCalculator/pointCalculator.js\";\n\nconst addTransactions = (threeMonths) => {\n  threeMonths.forEach((transaction) => {\n    transaction[\"points\"] = pointCalculator(transaction.amountSpent);\n  });\n\n  let finalUsers = {};\n  threeMonths.forEach((transaction) => {\n    let id = transaction.id;\n    if (finalUsers[id] !== undefined) {\n      finalUsers[id].points += transaction.points;\n      finalUsers[id].transactions.push(transaction);\n    } else {\n      finalUsers[transaction.id] = {\n        name: transaction.name,\n        points: transaction.points,\n        transactions: [transaction],\n      };\n    }\n  });\n\n  return finalUsers;\n};\n\nexport default addTransactions;\n","import { createPortal } from \"react-dom\";\nimport \"./modal.css\";\n\nconst Modal = ({ transactionHistory, style, setStyle }) => {\n  const handleClose = () => {\n    setStyle(\"hidden\");\n  };\n\n  if (style === \"hidden\") {\n    return null;\n  }\n  return createPortal(\n    <>\n      <div className=\"back\"></div>\n      <div className={style}>\n        <div className=\"content\">\n          <div className=\"header\">\n            <h4 className=\"title\">{transactionHistory.name}</h4>\n          </div>\n          {transactionHistory.data.transactions.map((each, key) => {\n            return (\n              <div\n                key={key}\n                className=\"body\"\n              >{`Amount: $${each.amountSpent},  Day: ${each.date}, Points: ${each.points}`}</div>\n            );\n          })}\n\n          <div className=\"footer\">\n            <button className=\"button \" onClick={() => handleClose()}>\n              Close\n            </button>\n          </div>\n        </div>\n      </div>\n    </>,\n    document.getElementById(\"portal\")\n  );\n};\n\nexport default Modal;\n","import { useState } from \"react\";\nimport Modal from \"../modal/Modal\";\nimport \"../rows/rows.css\";\nconst Rows = ({ customers }) => {\n  const [transactionHistory, setTransactionHistory] = useState(null);\n  const [style, setStyle] = useState(\"hidden\");\n\n  const openModal = (customer) => {\n    setTransactionHistory(customer);\n\n    setStyle(\"modal\");\n  };\n  return (\n    <tbody>\n      <Modal\n        setStyle={setStyle}\n        style={style}\n        transactionHistory={transactionHistory}\n      ></Modal>\n      {customers.map((customer) => {\n        return (\n          <tr key={customer.id} className=\"rows\">\n            <td className=\"rows\">{customer.name}</td>\n            <td className=\"rows\">\n              {customer.data.transactions.length} {\"  \"}\n              <button onClick={() => openModal(customer)}> Show All </button>\n            </td>\n\n            <td className=\"rows show\">{customer.data.points}</td>\n          </tr>\n        );\n      })}\n    </tbody>\n  );\n};\n\nexport default Rows;\n","import Rows from \"../rows/Rows\";\nimport \"../table/table.css\";\nconst Table = ({ customers }) => {\n  return (\n    <>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th className=\"columns\">Name</th>\n\n            <th className=\"columns\">Number of Transactions</th>\n            <th className=\"columns\"> Total Points</th>\n          </tr>\n        </thead>\n\n        <Rows customers={customers}></Rows>\n      </table>{\" \"}\n    </>\n  );\n};\n\nexport default Table;\n","const getCustomers = (tableData) => {\n  return new Promise((res, rej) => {\n    res(tableData);\n  });\n};\nexport default getCustomers;\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport checkMonths from \"../src/state-functions/checkMonths/checkMonths\";\nimport formatData from \"./state-functions/formatData/formatData\";\nimport tableData from \"../src/data/customers.js\";\nimport addTransactions from \"../src/state-functions/addTransaction/addTransactions.js\";\nimport Table from \"../src/components/table/Table.jsx\";\nimport getCustomers from \"../src/state-functions/getCustomers/getCustomers.js\";\nfunction App() {\n  const [customers, setCustomers] = useState([]);\n\n  useEffect(() => {\n    //simulating API call\n    getCustomers(tableData)\n      .then((res) => checkMonths(res))\n      .then((threeMonths) => addTransactions(threeMonths))\n      .then((finalUsers) => {\n        const data = formatData(finalUsers);\n\n        setCustomers(data);\n      });\n  }, []);\n  return (\n    <div>\n      <h1 style={{ textAlign: \"left\" }}>Retail Points- Last three Months</h1>\n      <Table className=\"top\" customers={customers}></Table>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}